![Built With Stencil](https://img.shields.io/badge/-Built%20With%20Stencil-16161d.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI%2BCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI%2BCgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU%2BCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MjQuNywzNzMuOWMwLDM3LjYtNTUuMSw2OC42LTkyLjcsNjguNkgxODAuNGMtMzcuOSwwLTkyLjctMzAuNy05Mi43LTY4LjZ2LTMuNmgzMzYuOVYzNzMuOXoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQyNC43LDI5Mi4xSDE4MC40Yy0zNy42LDAtOTIuNy0zMS05Mi43LTY4LjZ2LTMuNkgzMzJjMzcuNiwwLDkyLjcsMzEsOTIuNyw2OC42VjI5Mi4xeiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDI0LjcsMTQxLjdIODcuN3YtMy42YzAtMzcuNiw1NC44LTY4LjYsOTIuNy02OC42SDMzMmMzNy45LDAsOTIuNywzMC43LDkyLjcsNjguNlYxNDEuN3oiLz4KPC9zdmc%2BCg%3D%3D&colorA=16161d&style=flat-square)

# Ribbon Strips Web Component

The Ribbon Strips is a Web Component to quickly visualize annotation summaries for a gene or gene set. Try the GO ribbon here: [http://geneontology.org/ribbon.html](http://geneontology.org/ribbon.html)

## Getting Started

### Script tag

- Put a script tag  `<script src='https://unpkg.com/@geneontology/wc-ribbon-strips/dist/wc-ribbon-strips.js'></script>` in the head of your index.html
- Then you can use the element anywhere in your template, JSX, html etc

```html
<html>
<head>
  <script type="module" src="https://unpkg.com/@geneontology/wc-ribbon-strips/dist/wc-ribbon-strips/wc-ribbon-strips.esm.js"></script>
  <script nomodule="" src="https://unpkg.com/@geneontology/wc-ribbon-strips/dist/wc-ribbon-strips/wc-ribbon-strips.js"></script>
</head>
<body>

  <!--  This add the ribbon strips to your page and load two RGD genes -->
  <wc-ribbon-strips subjects="RGD:620474,RGD:3889" />

</body>
</html>
```

### Node Modules
- Run `npm install @geneontology/wc-ribbon-strips --save`
- Put a script tag similar to this `<script src='node_modules/@geneontology/wc-ribbon-strips/dist/wc-ribbon-strips.js'></script>` in the head of your index.html
- Then you can use the element anywhere in your template, JSX, html etc

## More advanced integration

This script will load two specific genes as in the above example but by creating the HTML element through javascript after fetching the data model required for the ribbon to work. It will also configure several attributes.

```html
<script>

        let baseAPIURL = "https://api-sierra.geneontology.io/api/ontology/ribbon/";
        let subjects = ["RGD:620474","RGD:3889"].join("&subject=");
        let query = baseAPIURL + '?subset=goslim_agr&subject=' + subjects;
        console.log('API query is ' + query);

        async function loadData() {
          // fetch the json data
          let response = await fetch(query);
          let data = await response.json();

          // create the ribbon strips element
          var element = await document.createElement("wc-ribbon-strips");
          element.setAttribute("data", JSON.stringify(data));
          element.setAttribute("binary-color", "false");
          element.setAttribute("new-tab", "true");
          element.setAttribute("selection-mode", 1);
          element.setAttribute("subject-position", 1);
          await document.body.appendChild(element);

          // add a listener whenever a cell is clicked
          document.addEventListener('cellClick', function hideMenu(e, v) {
            console.log('Cell Clicked' , e.detail);
          });

          // add a listener whenever a group is clicked
          document.addEventListener('groupClick', function hideMenu(e, v) {
            console.log('Group Clicked' , e.detail);
          });
        }

        loadData();
</script>
```